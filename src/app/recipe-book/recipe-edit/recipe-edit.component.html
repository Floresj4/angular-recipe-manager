<div class="row">
  <h3>{{ editMode ? 'Edit' : 'New' }} Recipe</h3>
</div>

<!--<div class="row"-->
  <!--[class]="editMode ? 'image-path-visible' : ''">-->
  <!--<div class="col-xs-12 form-group">-->
    <!--<img-->
        <!--class="img-responsive img-recipe-edit"-->
        <!--[src]="currentRecipe.imagePath"-->
         <!--alt="{{currentRecipe.name}}" />-->
  <!--</div>-->
<!--</div>-->

<div class="row">
  <div class="col-xs-12">

    <form [formGroup]="recipeEditForm" (ngSubmit)="onSubmit()">

      <div class="form-group">
        <label for="recipeName">Name</label>
        <input type='text'
               id='recipeName'
               class="form-control"
               name="recipeName"
               formControlName="recipeName"
               placeholder="Recipe name"
               required>
      </div>

      <div class="form-group">
        <label for="imagePath">Image Path</label>
        <input type='text'
          id="imagePath"
          name="imagePath"
          formControlName="imagePath"
          class="form-control"
          placeholder="Image URL"
          required>
      </div>

      <div class="form-group">
        <label for="recipeDescription">Description</label>
        <textarea
          rows="6"
          id="recipeDescription"
          name="recipeDescription"
          formControlName="recipeDescription"
          class="form-control"
          placeholder="About this recipe..."
          required></textarea>
      </div>

      <h4>Ingredients</h4>

      <div class="row" formArrayName="ingredients" *ngFor="let ing of recipeEditForm.get('ingredients').controls; let i = index">
        <div [formGroupName]="i">

          <div class="col-xs-8 form-group">
            <input type="text"
                class="form-control"
                formControlName="name">
          </div>

          <div class="col-xs-3 form-group">
            <input type="number"
                class="form-control"
                formControlName="amount">
          </div>

          <div class="col-xs-1 form-group">
            <button type="button"
                    class="btn btn-danger">x</button>
          </div>

        </div>
      </div>

      <div class="form-group">
        <button type='submit'
                [disabled]="!recipeEditForm.valid"
                class="btn btn-success">Save</button>

        <button type="button"
                class="btn btn-danger"
                (click)="onCancel()">Cancel</button>
      </div>

    </form>

  </div>
</div>
